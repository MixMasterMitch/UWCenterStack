<!DOCTYPE html>
<html>
    <head>
        <title>UW Center Stack</title>

        <!-- Main CSS compiled from SCSS -->
        <link rel="stylesheet" type="text/css" href="../css/main.css">

        <!-- Global Dependencies -->
        <script src="../scripts/external/jquery.min.js"></script>
        <script src="../scripts/external/backbone.min.js"></script>
        <script src="../scripts/external/underscore.min.js"></script>

        <!-- Our lovely js -->
        <script src="../scripts/common/app/AppModel.js"></script>
        <script src="../scripts/common/app/AppView.js"></script>
        <script src="../scripts/common/slider/SliderView.js"></script>
        <script src="../scripts/common/slider/SliderModel.js"></script>
        <script src="../scripts/common/list/ListView.js"></script>
        <script src="../scripts/common/list/ListItemView.js"></script>
        <script src="../scripts/common/list/ListItemModel.js"></script>
        <script src="../scripts/common/list/ListItemCollection.js"></script>
        <script src="../scripts/music/Music.js"></script>
        <script src="../scripts/music/LastFmSupplier.js"></script>
        <script src="../scripts/util/FileFinder.js"></script>
        <script src="../scripts/music/MusicTree.js"></script>

        <!-- Reload page on js, css, or html file change -->
        <script>
            if (process.env.NODE_ENV == 'development') {
                var Gaze = require('gaze');
                new Gaze(['html/**/*.html', 'css/**/*.css', 'scripts/**/*.js'])
                        .on('all', function() {
                            location && location.reload();
                        });
            }
        </script>
    </head>
    <body>
        <div id="dashGraphicWrapper">
            <div id="dashGraphic">
                <div id="appContainer">
                    <!-- Apps dynamically added here -->
                </div>
            </div>
        </div>


        <!-- Javascript entry point -->
        <script src="../scripts/main.js"></script>

        <!-- Don't show the UI until it is completely loaded first-->
        <script>
            var gui = require('nw.gui');

            window.onload = function() {
//                gui.Window.get().showDevTools();
//                gui.Window.get().maximize();
//                gui.Window.get().moveTo(0, 0);
                gui.Window.get().show();
            }
        </script>

        <!-- Open in Kiosk mode in production -->
        <script>
            if (process.env.NODE_ENV != 'development') {
                var win = require('nw.gui').Window.get();

                // This doesn't appear to be working on Mac, but works find on Linux
                //win.enterKioskMode();
            }
        </script>
    </body>
</html>
