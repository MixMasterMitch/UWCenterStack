<!DOCTYPE html>
<html>
    <head>
        <title>UW Center Stack</title>

        <!-- Main CSS compiled from SCSS -->
        <link rel="stylesheet" type="text/css" href="../css/main.css">


        <!-- Reload page on js, css, or html file change -->
        <script>
            if (process.env.NODE_ENV == 'development') {
                var Gaze = require('gaze');
                new Gaze(['html/**/*.html', 'css/**/*.css', 'scripts/**/*.js'])
                    .on('all', function() {
                        location && location.reload();
                    });
            }
        </script>
    </head>
    <body>
        <div id="dashGraphicWrapper">
            <div id="dashGraphic">
                <div id="appContainerWrapper">
                    <div id="appContainer"></div>
                    <div id="eventCatchersWrapper"></div>
                    <div id="bezelOverlayWrapper"></div>
                </div>
            </div>
        </div>
        <div id="svgContainer" class="hide"></div>

        <!-- Global Dependencies -->
        <script src="../scripts/external/jquery.min.js"></script>
        <script src="../scripts/external/backbone.min.js"></script>
        <script src="../scripts/external/underscore.min.js"></script>
        <script src="../scripts/external/backbone.marionette.js"></script>
        <script>
            global.$ = global.jQuery = $;
            global._ = _;
            global.Backbone = Backbone;

            $.fn.copyIn = function(element) {
                this.html($(element).clone());
            }
        </script>

        <!-- Open in Kiosk mode in production -->
        <script>
            if (process.env.NODE_ENV != 'development') {
                var win = require('nw.gui').Window.get();

                // This doesn't appear to be working on Mac
                //win.enterKioskMode();
            }
        </script>

        <script>
            var win = require('nw.gui').Window.get();
            win.show();
            win.zoomLevel = -5;

            var fs = require('fs');
            _.each(['bezelOverlay', 'eventCatchers', 'icons/back', 'icons/home', 'icons/person', 'icons/volumeDown', 'icons/volumeUp'], function(data) {
                $('#svgContainer').append(fs.readFileSync('svg/' + data + '.svg', 'utf8'));
            });
            $('#bezelOverlayWrapper').copyIn('#bezelOverlay');
            $('#eventCatchersWrapper').copyIn('#eventCatchers');

            $('#mainZoneEventCatcher').click(function() {console.log('mainZoneEventCatcher');});
            $('#volumeSliderZoneEventCatcher').click(function() {console.log('volumeSliderZoneEventCatcher');});
            $('#backButtonZoneEventCatcher').click(function() {console.log('backButtonZoneEventCatcher');});
            $('#inputZone1EventCatcher').click(function() {console.log('inputZone1EventCatcher');});
            $('#inputZone2EventCatcher').click(function() {console.log('inputZone2EventCatcher');});
            $('#inputZone3EventCatcher').click(function() {console.log('inputZone3EventCatcher');});
            $('#inputZone4EventCatcher').click(function() {console.log('inputZone4EventCatcher');});
            $('#inputZone5EventCatcher').click(function() {console.log('inputZone5EventCatcher');});
        </script>

        <!-- TEMPLATES -->
        <script id="screenTemplate" type="text/html">
            <div id="backButtonZoneContent"></div>
            <div id="homeButtonZoneContent"></div>
            <div id="mainZoneContent"></div>
            <div id="volumeSliderZoneContent"></div>
            <div id="inputZone1Content"></div>
            <div id="inputZone2Content"></div>
            <div id="inputZone3Content"></div>
            <div id="inputZone4Content"></div>
            <div id="inputZone5Content"></div>
            <div id="playPauseButtonZoneContent"></div>
            <div id="nextButtonZoneContent"></div>
        </script>

        <script id="buttonTemplate" type="text/html">
            <div class="icon"></div>
        </script>

        <script id="inputZoneTemplate" type="text/html">
            <div class="label leftLabel"></div>
            <div class="icon iconLeft"></div>
            <div class="icon iconRight"></div>
            <div class="label rightLabel"></div>
        </script>

        <script id="clockTemplate" type="text/html">
            <div class="lines topLeftLines"></div>
            <div class="lines bottomRightLines"></div>
            <span class="time"></span>
        </script>

        <!-- Our lovely js -->
        <script src="../scripts/RouteMapping.js"></script>
        <script src="../scripts/home/HomeScreen.js"></script>
        <script src="../scripts/climateControl/climateHome.js"></script>
        <script src="../scripts/common/MainZoneLayout.js"></script>
        <script src="../scripts/common/ButtonView.js"></script>
        <script src="../scripts/common/InputZoneView.js"></script>
        <script src="../scripts/common/SliderView.js"></script>
        <script src="../scripts/common/SliderButtonsView.js"></script>
        <script src="../scripts/common/ClockView.js"></script>

        <!-- Javascript entry point -->
        <script src="../scripts/main.js"></script>


    </body>
</html>